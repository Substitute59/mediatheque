<form (ngSubmit)="login()" [formGroup]="loginForm" class="p-8">
    <div class="bg-surface-0 dark:bg-surface-900 p-8 md:p-12 shadow-sm rounded-2xl w-full max-w-sm mx-auto flex flex-col gap-8">
        <div class="flex flex-col items-center gap-4">
            <div class="flex flex-col items-center gap-2 w-full">
                <div class="text-surface-900 dark:text-surface-0 text-2xl font-semibold leading-tight text-center w-full" i18n="@@home.login.form.title">Connectez-vous</div>
                <div class="text-center w-full">
                    <span class="text-surface-700 dark:text-surface-200 leading-normal" i18n="@@home.login.form.account.no">Pas encore de compte ?</span>
                    <a routerLink="/register" class="text-primary font-medium ml-1 cursor-pointer hover:text-primary-emphasis" i18n="@@home.login.form.account.create">Créez le !</a>
                </div>
            </div>
        </div>
        <div class="flex flex-col gap-6 w-full">
            <div class="flex flex-col gap-2 w-full">
                <label for="email" class="text-surface-900 dark:text-surface-0 font-medium leading-normal" i18n="@@home.login.form.email">Email</label>
                <input pInputText id="email" name="username" formControlName="username" type="email" required i18n-placeholder="@@home.login.form.email" placeholder="Email" class="w-full px-3 py-2 shadow-sm rounded-lg" />
                @if (errorField === 'username' && errorMessage) {
                    <p class="text-sm text-red-500 mt-2">{{ errorMessage }}</p>
                }
            </div>
            <div class="flex flex-col gap-2 w-full">
                <label for="password" class="text-surface-900 dark:text-surface-0 font-medium leading-normal" i18n="@@home.login.form.password">Mot de passe</label>
                <input pInputText id="password" name="password" formControlName="password" type="password" required i18n-placeholder="@@home.login.form.password" placeholder="Mot de passe" class="w-full px-3 py-2 shadow-sm rounded-lg" />
                @if (errorField === 'password' && errorMessage) {
                    <p class="text-sm text-red-500 mt-2">{{ errorMessage }}</p>
                }
            </div>
            <div class="flex flex-col sm:flex-row items-start sm:items-center justify-end w-full gap-3 sm:gap-0">
                <a routerLink="/forgot-password" class="text-primary font-medium cursor-pointer hover:text-primary-emphasis" i18n="@@home.login.form.forgot.password">Mot de passe oublié ?</a>
            </div>
        </div>
        <button pButton class="w-full py-2 rounded-lg flex justify-center items-center gap-2">
            <i pButtonIcon class="pi pi-user text-base! leading-normal!"></i>
            <span pButtonLabel i18n="@@home.login.form.signin">Se connecter</span>
        </button>
        @if (!errorField && errorMessage) {
            <p class="text-sm text-center text-red-500 mt-2">{{ errorMessage }}</p>
        }
    </div>
</form>
