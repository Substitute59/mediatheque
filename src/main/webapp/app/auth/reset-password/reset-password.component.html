<form (ngSubmit)="resetPassword()" [formGroup]="resetPasswordForm" class="p-8">
    <div class="bg-surface-0 dark:bg-surface-900 p-8 md:p-12 shadow-sm rounded-2xl w-full max-w-sm mx-auto flex flex-col gap-8">
        <div class="flex flex-col items-center gap-4">
            <div class="flex flex-col items-center gap-2 w-full">
                <div class="text-surface-900 dark:text-surface-0 text-2xl font-semibold leading-tight text-center w-full" i18n="@@reset.password.form.title">Créez votre nouveau mot de passe</div>
            </div>
        </div>
        @if (errorField === 'token' && errorMessage) {
            <p class="text-sm text-center text-red-500 mt-2">{{ errorMessage }}</p>
        } @else {
            <div class="flex flex-col gap-6 w-full">
                <div class="flex flex-col gap-2 w-full">
                    <label for="password" class="text-surface-900 dark:text-surface-0 font-medium leading-normal" i18n="@@reset.password.form.password">Mot de passe*</label>
                    <input pInputText id="password" name="password" formControlName="password" type="password" required i18n-placeholder="@@reset.password.form.password" placeholder="Mot de passe" class="w-full px-3 py-2 shadow-sm rounded-lg" />
                    @if (errorField === 'password' && errorMessage) {
                        <p class="text-sm text-red-500 mt-2">{{ errorMessage }}</p>
                    }
                </div>
                <div class="flex flex-col gap-2 w-full">
                    <label for="confirmPassword" class="text-surface-900 dark:text-surface-0 font-medium leading-normal" i18n="@@reset.password.form.confirmPassword">Confirmation mot de passe*</label>
                    <input pInputText id="confirmPassword" name="confirmPassword" formControlName="confirmPassword" type="password" required i18n-placeholder="@@reset.password.form.confirmPassword" placeholder="Confirmation mot de passe" class="w-full px-3 py-2 shadow-sm rounded-lg" />
                    @if (errorField === 'confirmPassword' && errorMessage) {
                        <p class="text-sm text-red-500 mt-2">{{ errorMessage }}</p>
                    }
                </div>
            </div>
            <button pButton class="w-full py-2 rounded-lg flex justify-center items-center gap-2">
                <i pButtonIcon class="pi pi-user text-base! leading-normal!"></i>
                <span pButtonLabel i18n="@@reset.password.form.reinitialize">Réinitialiser</span>
            </button>
            <p-toast />
        }
        @if (!errorField && errorMessage) {
            <p class="text-sm text-center text-red-500 mt-2">{{ errorMessage }}</p>
        }
    </div>
</form>
